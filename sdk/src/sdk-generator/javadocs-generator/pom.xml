<?xml version="1.0" encoding="UTF-8"?>

  <!--
    Licensed under the European Space Agency Public License, Version 2.0
    You may not use this file except in compliance with the License.

    Except as expressly set forth in this License, the Software is provided to
    You on an "as is" basis and without warranties of any kind, including without
    limitation merchantability, fitness for a particular purpose, absence of
    defects or errors, accuracy or non-infringement of intellectual property rights.
 
    See the License for the specific language governing permissions and limitations under the License.
-->

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
  
    <parent>
        <groupId>int.esa.nmf</groupId>
        <artifactId>parent</artifactId>
        <version>1.2.0-SNAPSHOT</version>
        <relativePath/>
    </parent>
  
    <groupId>int.esa.nmf.sdk.generator</groupId>
    <artifactId>javadocs</artifactId>
    <packaging>jar</packaging>

    <name>ESA NMF SDK Generator - NMF Javadocs</name>
    <description>Generates Javadocs for all of the listed dependencies.</description>
    <url>http://www.esa.int</url>
  
    <organization>
        <name>ESA</name>
        <url>http://www.esa.int</url>
    </organization>

    <licenses>
        <license>
            <name>The European Space Agency Public License, Version 2.0</name>
            <url>https://raw.github.com/esa/CCSDS_APPS/master/LICENCE.md</url>
            <distribution>repo</distribution>
        </license>
    </licenses>
  
    <scm>
        <connection>scm:git:git@github.com:esa/CCSDS_APPS.git</connection>
        <developerConnection>scm:git:git@github.com:esa/CCSDS_APPS.git</developerConnection>
        <url>https://github.com/esa/CCSDS_APPS</url>
    </scm>
  
    <issueManagement>
        <system>GitHub</system>
        <url>https://github.com/CesarCoelho/BUG_REPORTS_NANOSAT_MO_FRAMEWORK/issues</url>
    </issueManagement>
  
    <developers>
        <developer>
            <id>CesarCoelho</id>
            <name>Cesar Coelho</name>
            <url>https://github.com/CesarCoelho</url>
        </developer>
    </developers>

    <dependencies>
        <!-- APIs -->
        <dependency>
            <groupId>int.esa.ccsds.mo</groupId>
            <artifactId>API_MAL</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.api</groupId>
            <artifactId>com-nmf</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.ccsds.mo</groupId>
            <artifactId>API_MC</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.ccsds.mo</groupId>
            <artifactId>API_COMMON</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.api</groupId>
            <artifactId>software-management</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.api</groupId>
            <artifactId>platform</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>helper-tools</artifactId>
        </dependency>

        <!-- Service Implementations -->
        <dependency>
            <groupId>int.esa.nmf.core.moservices.impl</groupId>
            <artifactId>ccsds-com</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.impl</groupId>
            <artifactId>ccsds-mc</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.impl</groupId>
            <artifactId>nmf-software-management</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.impl</groupId>
            <artifactId>nmf-platform-generic</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core.moservices.impl</groupId>
            <artifactId>ccsds-common</artifactId>
        </dependency>

        <!-- NMF Composites -->
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>generic-composite-model</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>generic-nanosat-monolithic</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>nanosat-mo-connector</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>generic-nanosat-mo-supervisor</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>ground-mo-adapter</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>generic-ground-mo-proxy</artifactId>
        </dependency>
        <dependency>
            <groupId>int.esa.nmf.core</groupId>
            <artifactId>nmf-package-lib</artifactId>
        </dependency>
    </dependencies>
    
    <build>
        <resources>
            <resource>
                <directory>${basedir}/..</directory>
                <includes>
                    <include>LICENCE.md</include>
                </includes>
            </resource>
        </resources>
    
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-enforcer-plugin</artifactId>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
            </plugin>
            <!--
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>build-helper-maven-plugin</artifactId>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                </configuration>
            </plugin>
            -->
            <plugin>
                <artifactId>maven-source-plugin</artifactId>
                <version>3.0.1</version>
                <executions>
                    <execution>
                        <id>bundle-sources</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <!-- produce source artifact for main project sources -->
                            <goal>jar-no-fork</goal>
                            
                            <!-- produce source artifact for project test sources -->
                            <!--  <goal>test-jar-no-fork</goal> -->
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-javadoc-plugin</artifactId>
                <version>3.0.0-M1</version>
                <!-- Version 3.0.0-M1 does have problems when compiled with Java 6 -->
                <executions>
                    <!--
                                        <execution>
                                            <id>aggregate</id>
                                            <goals>
                                                <goal>aggregate</goal>
                                            </goals>
                                            <phase>site</phase>
                                            <configuration>
                                                  <aggregate>true</aggregate>
                                                  <includeDependencySources>true</includeDependencySources>
                                                <additionalparam>-Xdoclint:none</additionalparam>
                                            </configuration>
                                        </execution>
                    -->                    

                    <!--
                    Warning: If the javadocs is missing information, it is because
                        the sources are not being generated for the individual
                        projects. Instead of adding the maven-source-plugin to
                        all projects, it is easier to just change the configuration
                        of the NMF Core project to "release-profile" and build it.
                        This will generate all the sources that will then be found
                        by this project upon compilation.
                    -->

                    <execution>
                        <id>attach-javadocs</id>
                        <phase>package</phase>
                        <goals>
                            <goal>javadoc</goal>
                        </goals>
                        <configuration>
                            <includeDependencySources>true</includeDependencySources>
                            <additionalparam>-Xdoclint:none</additionalparam>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!--
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-resources-plugin</artifactId>
                <executions>
                    <execution>
                        <id>copy-resources</id>
                        <phase>compile</phase>
                        <goals>
                            <goal>copy-resources</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${basedir}/../../docs/Javadocs</outputDirectory>
                            <resources>
                                <resource>
                                    <directory>${basedir}/target/apidocs</directory>
                                    <filtering>true</filtering>
                                </resource>
                            </resources>
                        </configuration>            
                    </execution>
                </executions>
            </plugin>
            -->
        </plugins>
    </build>

    <profiles>
        <profile>
            <id>release-profile</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-resources-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>copy-resources</id>
                                <phase>install</phase>
                                <goals>
                                    <goal>copy-resources</goal>
                                </goals>
                                <configuration>
                                    <outputDirectory>${basedir}/../../docs/Javadocs</outputDirectory>
                                    <resources>
                                        <resource>
                                            <directory>${basedir}/target/site/apidocs</directory>
                                            <filtering>true</filtering>
                                        </resource>
                                    </resources>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>
</project>
